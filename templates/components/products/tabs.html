<ul class="tabs flex flex-center" data-tab role="tablist">
    {{#if product.related_products}}
        <li class="tab is-active" role="presentation">
            <a class="tab-title" href="#tab-related" role="tab" tabindex="0" aria-selected="true" controls="tab-related">
                <span>{{lang 'products.related_products'}}</span>
            </a>
        </li>
    {{/if}}

    <!-- * Recently View Product Section -->
    {{#if theme_settings.showRecentlyViewSection}}
        <li class="tab{{#unless product.related_products}} is-active{{/unless}}" role="presentation">
            <a class="tab-title" href="#tab-recentlyViewed" role="tab" tabindex="0" aria-selected="true" controls="tab-related">
                <span>{{lang 'products.recently_view_products'}}</span>
            </a>
        </li>
    {{/if}}

    {{#if product.similar_by_views}}
        <li class="tab{{#and (if product.related_products) (if theme_settings.showRecentlyViewSection)}}{{else}} is-active{{/and}}" role="presentation">
            <a class="tab-title" href="#tab-similar" role="tab" tabindex="0" aria-selected="{{#if product.related_products}}false{{else}}true{{/if}}" controls="tab-similar">
                <span>{{lang 'products.similar_by_views'}}</span>
            </a>
        </li>
    {{/if}}
</ul>

<div class="tabs-contents">
{{#if product.related_products}}
    <div role="tabpanel" aria-hidden="false" class="tab-content has-jsContent is-active" id="tab-related">
        {{> components/products/carousel-2 products=product.related_products columns=4 list="Related Products"}}
    </div>
{{/if}}

{{#if theme_settings.showRecentlyViewSection}}
    <div role="tabpanel" aria-hidden="{{#if product.related_products}}true{{else}}false{{/if}}" class="tab-content has-jsContent{{#unless product.related_products}} is-active{{/unless}}" id="tab-recentlyViewed">
       {{> components/custom/products/csm-recently-viewed-block }}
    </div>
{{/if}}

{{#if product.similar_by_views}}
    <div role="tabpanel" aria-hidden="{{#if product.related_products}}true{{else}}false{{/if}}" class="tab-content has-jsContent{{#unless product.related_products}} is-active{{/unless}}" id="tab-similar">
        {{> components/products/carousel-2 products=product.similar_by_views columns=4 list="Customers Also Viewed"}}
    </div>
{{/if}}
</div>
